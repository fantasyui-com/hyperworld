import registry from 'registry';

export default class Navigation {

  aliases = ['nav', 'navigation'];

  constructor(){

  }

  async initialize(){

  }

  match({session, text, command, argument}){
    const response = this.aliases.some(alias=>{
      if( command[0] == alias ){
        return true;
      }
    })
    return response;
  }

  async execute({session, text, command, argument}){

    const screen = session.user.screen;
    const avatar = session.user.avatar;
    const location = session.user.avatar.location;

    const locations = [];
    locations.push({parent:'true', id:location.parent.id, label:location.parent.label});
    locations.push({active:'true', id:location.id, label:location.label});
    location.getElements().map(({id,label})=>({id,label})).forEach(i=>locations.push(i));

    await screen.data({type:'navigation', locations});
    // await screen.info(`Your avatar has entered a location called "${location.label}"`);



  }

}
