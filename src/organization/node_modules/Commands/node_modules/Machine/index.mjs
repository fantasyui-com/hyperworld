import registry from 'registry';

export default class Look {

  aliases = ['use'];

  constructor(){

  }

  async initialize(){

  }

  match({session, text, command, argument}){
    const response = this.aliases.some(alias=>{
      if( command[0] == alias ){
        return true;
      }
    })
    return response;
  }

  async execute({session, text, command, argument}){

    const screen = session.user.screen;
    const avatar = session.user.avatar;
    const location = session.user.avatar.location;

    // await screen.warning(`Your avatar has entered a location called "${location.label}"`);
    // const locations = location.getElements().map(i=>i.label);
    // const origin = location.parent.label;

  try{
    const response = await screen.input({message:'Say something!', initial:"Hola!"})
    await screen.info(`You said "${JSON.stringify(response)}"`);
  }catch(e){
    await screen.error(`Conversation timed out.`);
  }

  }

}
